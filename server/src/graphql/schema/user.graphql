type User {
  id: ID!
  username: String!
  firstName: String
  surname: String
  followers: [User!]!
  following: [User!]!
  followersCount: Int!
  followingCount: Int!
  email: String!
  emailVerified: Boolean!
  deleted: Boolean!
  deletedAt: String
  disabled: Boolean!
  disabledAt: String
  disabledUntil: String
  institution: String
  program: String
  createdAt: String
}

type AuthPayload {
  token: String!
  user: User!
}

type Query {
  me: User
  user(id: ID!): User
}

type Mutation {
  signup(
    email: String!
    password: String!
    username: String!
    firstName: String!
    surname: String!
    institution: String
    program: String
  ): AuthPayload
  login(email: String!, password: String!): AuthPayload
  verifyEmailCode(email: String!, code: String!): Boolean!
  resendVerificationEmail(email: String!): Boolean!
  deleteMyAccount: Boolean!
  disableMyAccount(until: String): Boolean!
  reactivateMyAccount: Boolean!
  completeProfile(
    username: String!
    firstName: String!
    surname: String!
    institution: String!
    program: String
  ): User
}
